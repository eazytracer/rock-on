---
timestamp: 2025-12-11T16:54
feature: React Native Mobile App
type: research
status: initial-notes
priority: future
---

# React Native Mobile App - Initial Research Notes

## Overview

This feature tracks the future development of a React Native mobile app for Rock On. The mobile app will provide true offline-first capabilities that are not feasible in the browser version.

## Why React Native?

**Key Advantages Over Browser PWA:**

| Capability             | Browser PWA                             | React Native                          |
| ---------------------- | --------------------------------------- | ------------------------------------- |
| Storage Persistence    | Best-effort (can be cleared by OS/user) | Guaranteed (SQLite/Realm)             |
| Secure Token Storage   | localStorage (vulnerable)               | Keychain (iOS) / Keystore (Android)   |
| Background Processing  | Limited/None                            | Full support                          |
| Biometric Auth         | Limited                                 | Full (Face ID, Touch ID, fingerprint) |
| Offline Duration       | Short grace period                      | Indefinite (30+ days)                 |
| Push Notifications     | Requires service worker                 | Native support                        |
| App Store Distribution | N/A                                     | iOS App Store, Google Play            |

## Core Features for Mobile

### 1. True Offline-First Authentication

- Store encrypted session in secure storage (Keychain/Keystore)
- Biometric re-authentication (Face ID, fingerprint, PIN fallback)
- 30-day offline access window
- Background session refresh when online
- Graceful re-sync when connectivity returns

### 2. Offline Data Management

- SQLite or Realm for local database (more reliable than IndexedDB)
- Full CRUD operations offline
- Conflict resolution on sync
- Clear offline/online status indicators

### 3. Mobile-Specific UX

- Native navigation patterns
- Haptic feedback
- Share sheets for setlists
- Quick actions from home screen
- Widget support (upcoming shows, current setlist)

### 4. Performance Musicians Features

- Screen always-on during performance mode
- Large text mode for stage visibility
- Quick song lookup
- Auto-scroll lyrics (future)
- Metronome integration (future)

## Technical Stack (Proposed)

```
Framework:        React Native (or Expo)
State Management: Existing React patterns (portable from web)
Local Database:   SQLite (via expo-sqlite) or WatermelonDB
Secure Storage:   expo-secure-store or react-native-keychain
Auth:             Supabase JS client (same as web)
Sync:             Existing SyncRepository pattern (portable)
```

## Code Sharing Strategy

**Sharable from Web App:**

- Business logic (models, validation)
- Supabase integration (services/supabase/)
- Sync engine logic (services/data/)
- Type definitions

**Must be Rewritten for Mobile:**

- UI components (React Native components, not DOM)
- Navigation (React Navigation, not React Router)
- Storage layer (SQLite, not IndexedDB)
- Auth flow (biometric, secure storage)

## Estimated Effort

| Phase     | Description                           | Estimate        |
| --------- | ------------------------------------- | --------------- |
| 1         | Project setup, navigation, auth       | 2-3 weeks       |
| 2         | Core screens (Songs, Setlists, Shows) | 3-4 weeks       |
| 3         | Offline sync implementation           | 2 weeks         |
| 4         | Polish, testing, performance          | 2 weeks         |
| 5         | App Store submission                  | 1 week          |
| **Total** |                                       | **10-12 weeks** |

## Dependencies

- Web app authentication flow should be stable first
- Supabase schema should be finalized
- Core features should be complete in web version

## Open Questions

1. **Expo vs Bare React Native?**
   - Expo: Faster development, easier updates, some limitations
   - Bare: Full control, more complex setup

2. **Monetization?**
   - Free with web account?
   - Separate mobile subscription?
   - One-time purchase?

3. **Platform Priority?**
   - iOS first? Android first? Both simultaneously?

4. **Minimum iOS/Android Versions?**
   - Affects available APIs and user reach

## Related Features

- `improved-auth-flow` - Browser auth (prerequisite, in progress)
- Future: `push-notifications`
- Future: `apple-watch-app`
- Future: `android-wear-app`

## Next Steps

1. Complete browser auth improvements first
2. Finalize web app core features
3. Create detailed mobile app PRD
4. Evaluate Expo vs bare React Native
5. Set up mobile development environment

---

**Status**: Parked for future development. Focus is currently on browser experience.
